!function(e){"use strict";e.module("emd.ng-xtorage",[]).provider("$xtorage",function(){var t=this,r="sessionStorage",n="localStorage",o={storage:r},a={storage:n};t.storage=n,this.$get=["$window",function(r){var n=t.storage,i=function(t,r){var n=null;try{n=e.fromJson(t)}catch(o){n=r?parseInt(t):t}return n},s=function(t){var r=/[0-9]/;if(!e.isString(t)||!t.length)return null;for(var n=0;n<t.length;n++)if(!r.test(t[n]))return!1;return!0},u=function(t){return e.isArray(t)&&t.length},c=function(t){var r=e.isObject(t)?t:{};return r.storage||n},g=function(t,n,o){e.isObject(n)?r[o].setItem(t,e.toJson(n)):r[o].setItem(t,n)},f=function(e,t,r){var n=c(r);if(u(e))for(var o=0;o<e.length;o++)g(e[o],t[o],n);else g(e,t,n)},l=function(e,t){var n=c(t),o=r[n].getItem(e),a=[];if(u(e)){for(var g=0;g<e.length;g++){var f=r[n].getItem(e[g]);f&&a.push(i(f))}u(a)||(a=null)}else a=i(o,s(o));return a},v=function(e,t){var n=c(t);if(u(e))for(var o=0;o<e.length;o++)r[n].removeItem(e[o]);else r[n].removeItem(e)},m=function(e){var t=c(e);r[t].clear()},h=function(e){return this.get(e,o)},S=function(e){return this.get(e,a)},I=function(e,t){this.save(e,t,o)},d=function(e,t){this.save(e,t,a)},F=function(e){this.remove(e,o)},L=function(e){this.remove(e,a)},p=function(e){this.clear(e,o)},$=function(e){this.clear(e,a)};return{get:l,save:f,remove:v,clear:m,getFromSessionStorage:h,getFromLocalStorage:S,saveInSessionStorage:I,saveInLocalStorage:d,removeFromSessionStorage:F,removeFromLocalStorage:L,clearSessionStorage:p,clearLocalStorage:$}}]})}(angular);