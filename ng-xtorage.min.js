!function(t){"use strict";t.module("emd.ng-xtorage",[]).provider("$xtorage",function(){var o=this,e="sessionStorage",r="localStorage",n={storage:e},i={storage:r};this.storage=r,this.unique=!1,this.$get=["$window",function(e){function r(o,e){var r=null;if(e)return parseInt(o);try{r=t.fromJson(o)}catch(n){r=o}return r}function s(o){if(!t.isString(o)||!o.length)return!1;for(var e=0;e<o.length;e++)if(!/[0-9]/g.test(o[e]))return!1;return!/^0/.test(o)}function a(o){return t.isArray(o)&&o.length}function u(o){var e=t.isObject(o)?o:{};return e.storage||N}function c(o){var e=t.isObject(o)?o:{};return e.unique||P}function f(o,r,n){t.isObject(r)?e[n].setItem(o,t.toJson(r)):e[n].setItem(o,r)}function h(o,e){for(var r=0;r<o.length;r++)if(t.equals(o[r],e))return!1;return!0}function g(t,o,e,r,n){o[r](e),this.save(t,o,{storage:n})}function l(t,o,e,r){var n=u(e),i=c(e),s=this.get(t,{storage:n})||[];i?h(s,o)&&g.call(this,t,s,o,r,n):g.call(this,t,s,o,r,n)}function m(t,o,e){var r=u(o),n=this.get(t,{storage:r});n[e](),this.save(t,n,{storage:r})}function v(t,o,e){var r=u(e),n=this.get(t,{storage:r})||[];n.splice(o,1),this.save(t,n,{storage:r})}function S(t,o,e){var r=u(e);if(a(t))for(var n=0;n<t.length;n++)f(t[n],o[n],r);else f(t,o,r)}function p(t,o,e){l.call(this,t,o,e,"push")}function F(t,o,e){l.call(this,t,o,e,"unshift")}function I(t,o){m.call(this,t,o,"pop")}function L(t,o){m.call(this,t,o,"shift")}function y(t,o){var n=u(o),i=e[n].getItem(t),c=[];if(a(t)){for(var f=0;f<t.length;f++){var h=e[n].getItem(t[f]);h&&c.push(r(h))}a(c)||(c=null)}else c=r(i,s(i));return c}function A(t,o){var r=u(o);if(a(t))for(var n=0;n<t.length;n++)e[r].removeItem(t[n]);else e[r].removeItem(t)}function d(t){var o=u(t);e[o].clear()}function q(t){return this.get(t,n)}function b(t){return this.get(t,i)}function j(t,o){this.save(t,o,n)}function O(t,o){this.save(t,o,i)}function $(t,o){p.call(this,t,o,n)}function w(t,o){p.call(this,t,o,i)}function x(t,o){F.call(this,t,o,n)}function J(t,o){F.call(this,t,o,i)}function k(t){this.remove(t,n)}function z(t){this.remove(t,i)}function B(t,o){this.removeFromArray(t,o,i)}function C(t,o){this.removeFromArray(t,o,n)}function D(t){this.clear(t,n)}function E(t){this.clear(t,i)}function G(t){this.popFrom(t,i)}function H(t){this.popFrom(t,n)}function K(t){this.shiftFrom(t,i)}function M(t){this.shiftFrom(t,n)}var N=o.storage,P=o.unique;return{get:y,save:S,remove:A,clear:d,pushInto:p,unshiftInto:F,popFrom:I,shiftFrom:L,removeFromArray:v,getFromSessionStorage:q,getFromLocalStorage:b,saveInSessionStorage:j,saveInLocalStorage:O,pushIntoSessionStorage:$,pushIntoLocalStorage:w,unshiftIntoSessionStorage:x,unshiftIntoLocalStorage:J,removeFromSessionStorage:k,removeFromLocalStorage:z,removeFromArrayLocalStorage:B,removeFromArraySessionStorage:C,popFromSessionStorage:H,popFromLocalStorage:G,shiftFromSessionStorage:M,shiftFromLocalStorage:K,clearSessionStorage:D,clearLocalStorage:E}}]})}(angular);