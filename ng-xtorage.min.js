!function(){"use strict";angular.module("emd.ng-xtorage",[]).provider("$xtorage",function(){var a=this;a.storage="localStorage",this.$get=["$window",function(b){var c=a.storage,d=function(a,b){var c=null;try{c=angular.fromJson(a)}catch(d){c=b?parseInt(a):a}return c},e=function(a){var b=/[0-9]/;if(!angular.isString(a)||!a.length)return null;for(var c=0;c<a.length;c++)if(!b.test(a[c]))return!1;return!0},f=function(a){return angular.isArray(a)&&a.length},g=function(a){var b=angular.isObject(a)?a:{};return b.storage||c},h=function(a,c,d){var e=g(d);if(f(a))for(var h=0;h<a.length;h++)angular.isObject(c[h])?b[e].setItem(a[h],angular.toJson(c[h])):b[e].setItem(a[h],c[h]);else angular.isObject(c)?b[e].setItem(a,angular.toJson(c)):b[e].setItem(a,c)},i=function(a,c){var h=g(c),i=b[h].getItem(a),j=[];if(f(a)){for(var k=0;k<a.length;k++){var l=b[h].getItem(a[k]);l&&j.push(d(l))}f(j)||(j=null)}else j=d(i,e(i));return j},j=function(a,c){var d=g(c);if(f(a))for(var e=0;e<a.length;e++)b[d].removeItem(a[e]);else b[d].removeItem(a)},k=function(a){var c=g(a);b[c].clear()};return{get:i,save:h,remove:j,clear:k}}]})}();