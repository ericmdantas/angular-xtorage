!function(t){"use strict";t.module("emd.ng-xtorage",[]).provider("$xtorage",function(){var o=this,n="sessionStorage",e="localStorage",r={storage:n},i={storage:e};o.storage=e,o.unique=!1,this.$get=["$window",function(n){var e=o.storage,s=o.unique,a=function(o,n){var e=null;try{e=t.fromJson(o)}catch(r){e=n?parseInt(o):o}return e},u=function(o){var n=/[0-9]/;if(!t.isString(o)||!o.length)return null;for(var e=0;e<o.length;e++)if(!n.test(o[e]))return!1;return!0},c=function(o){return t.isArray(o)&&o.length},f=function(o){var n=t.isObject(o)?o:{};return n.storage||e},l=function(o){var n=t.isObject(o)?o:{};return n.unique||s},h=function(o,e,r){t.isObject(e)?n[r].setItem(o,t.toJson(e)):n[r].setItem(o,e)},g=function(o,n){for(var e=0;e<o.length;e++)if(t.equals(o[e],n))return!1;return!0},v=function(t,o,n,e,r){o[e](n),this.save(t,o,{storage:r})},m=function(t,o,n,e){var r=f(n),i=l(n),s=this.get(t,{storage:r})||[];i?g(s,o)&&v.call(this,t,s,o,e,r):v.call(this,t,s,o,e,r)},S=function(t,o,n){var e=f(o),r=this.get(t,{storage:e});r[n](),this.save(t,r,{storage:e})},p=function(t,o,n){var e=f(n);if(c(t))for(var r=0;r<t.length;r++)h(t[r],o[r],e);else h(t,o,e)},I=function(t,o,n){m.call(this,t,o,n,"push")},F=function(t,o,n){m.call(this,t,o,n,"unshift")},L=function(t,o){S.call(this,t,o,"pop")},d=function(t,o){S.call(this,t,o,"shift")},q=function(t,o){var e=f(o),r=n[e].getItem(t),i=[];if(c(t)){for(var s=0;s<t.length;s++){var l=n[e].getItem(t[s]);l&&i.push(a(l))}c(i)||(i=null)}else i=a(r,u(r));return i},b=function(t,o){var e=f(o);if(c(t))for(var r=0;r<t.length;r++)n[e].removeItem(t[r]);else n[e].removeItem(t)},j=function(t){var o=f(t);n[o].clear()},O=function(t){return this.get(t,r)},$=function(t){return this.get(t,i)},w=function(t,o){this.save(t,o,r)},x=function(t,o){this.save(t,o,i)},y=function(t,o){I.call(this,t,o,r)},J=function(t,o){I.call(this,t,o,i)},A=function(t,o){F.call(this,t,o,r)},k=function(t,o){F.call(this,t,o,i)},z=function(t){this.remove(t,r)},B=function(t){this.remove(t,i)},C=function(t){this.clear(t,r)},D=function(t){this.clear(t,i)},E=function(t){this.popFrom(t,i)},G=function(t){this.popFrom(t,r)},H=function(t){this.shiftFrom(t,i)},K=function(t){this.shiftFrom(t,r)};return{get:q,save:p,remove:b,clear:j,pushInto:I,unshiftInto:F,popFrom:L,shiftFrom:d,getFromSessionStorage:O,getFromLocalStorage:$,saveInSessionStorage:w,saveInLocalStorage:x,pushIntoSessionStorage:y,pushIntoLocalStorage:J,unshiftIntoSessionStorage:A,unshiftIntoLocalStorage:k,removeFromSessionStorage:z,removeFromLocalStorage:B,popFromSessionStorage:G,popFromLocalStorage:E,shiftFromSessionStorage:K,shiftFromLocalStorage:H,clearSessionStorage:C,clearLocalStorage:D}}]})}(angular);