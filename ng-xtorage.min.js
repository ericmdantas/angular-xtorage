"use strict";angular.module("emd.ng-xtorage",[]).provider("$xtorageDefaultStorage",function(){this.$get=function(){return{storage:"localStorage"}}}).service("$xtorage",["$window","$xtorageDefaultStorage",function(a,b){var c=b.storage,d=function(a,b){var c=null;try{c=angular.fromJson(a)}catch(d){c=b?parseInt(a):a}return c},e=function(a){var b=/[0-9]/;if(!angular.isString(a)||!a.length)return null;for(var c=0;c<a.length;c++)if(!b.test(a[c]))return!1;return!0},f=function(a){return angular.isArray(a)&&a.length},g=function(a){var b=angular.isObject(a)?a:{};return b.storage||c},h=function(b,c,d){var e=g(d);if(f(b))for(var h=0;h<b.length;h++)angular.isObject(c[h])?a[e].setItem(b[h],angular.toJson(c[h])):a[e].setItem(b[h],c[h]);else angular.isObject(c)?a[e].setItem(b,angular.toJson(c)):a[e].setItem(b,c)},i=function(b,c){var h=g(c),i=a[h].getItem(b),j=[];if(f(b)){for(var k=0;k<b.length;k++){var l=a[h].getItem(b[k]);l&&j.push(d(l))}f(j)||(j=null)}else j=d(i,e(i));return j},j=function(b,c){var d=g(c);if(f(b))for(var e=0;e<b.length;e++)a[d].removeItem(b[e]);else a[d].removeItem(b)},k=function(b){var c=g(b);a[c].clear()};this.get=i,this.save=h,this.remove=j,this.clear=k}]);